name = "achianumba/rpass"

[readme]
partials = [
  "intro.md",
  "installation.md",
  "todo.md"
]

[devcontainer]
overwrite = true
image = "rust"
tag = "latest"
service = "rpass"

post_create_command = """
sudo apt-get install -y libgpgme11-dev
rustup component add rustfmt-x86_64-unknown-linux-gnu
cargo doc --no-deps
cargo install miniserve
"""

post_start_command = """
cargo doc
miniserve --pretty-urls --index repo/index.html target/doc
"""

[devcontainer.ports]
docs = 8080

[devcontainer.user]
sudo = true

[devcontainer.customizations.vscode]
extensions = [
  "rust-lang.rust-analyzer",
  "yzhang.markdown-all-in-one",
  "samuelcolvin.jinjahtml"
]

[devcontainer.customizations.vscode.settings]
"telemetry.telemetryLevel" = "off"
"telemetry.feedback.enabled" = false
"workbench.sideBar.location" = "right"